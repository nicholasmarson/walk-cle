{"ast":null,"code":"import \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport mapboxgl from \"mapbox-gl\";\nimport { MapboxSearchBox } from \"@mapbox/search-js-web\";\nimport * as turf from \"@turf/turf\";\nimport MapboxDirections from \"@mapbox/mapbox-gl-directions/dist/mapbox-gl-directions\";\nimport \"@mapbox/mapbox-gl-directions/dist/mapbox-gl-directions.css\";\nexport default {\n  data: function data() {\n    return {\n      ACCESS_TOKEN: \"pk.eyJ1Ijoid2Fsa2NsZTIxNiIsImEiOiJjbG16MGVvdWkxM2QzMm9wNjNobm9hZGQyIn0.5r382ZeMc0zOhHpiAd9D2A\",\n      map: null,\n      directions: null,\n      waypoints: []\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n    mapboxgl.accessToken = this.ACCESS_TOKEN;\n    this.map = new mapboxgl.Map({\n      container: \"map\",\n      style: \"mapbox://styles/mapbox/streets-v12\",\n      center: [-74.5, 40],\n      zoom: 9\n    });\n    this.directions = new MapboxDirections({\n      accessToken: mapboxgl.accessToken,\n      unit: \"imperial\",\n      profile: \"mapbox/driving-traffic\"\n    });\n    this.map.addControl(this.directions, \"top-left\");\n    this.map.on('click', function (e) {\n      _this.addWaypoint(e.lngLat);\n    });\n  },\n  methods: {\n    addWaypoint: function addWaypoint(coordinates) {\n      this.waypoints.push({\n        coordinates: [coordinates.lng, coordinates.lat],\n        name: \"Waypoint \".concat(this.waypoints.length + 1)\n      });\n\n      // Update the directions control with the new waypoints\n      this.directions.setWaypoints(this.waypoints);\n    }\n  }\n};","map":{"version":3,"mappings":";;AAOA;AACA;AACA;AACA;AACA;AAEA;EACAA;IACA;MACAC,cACA;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IAAA;IACAC;IAEA;MACAC;MACAC;MACAC;MACAC;IACA;IAEA;MACAC;MACAC;MACAC;IACA;IAEA;IAEA;MACA;IACA;EACA;EACAC;IACAC;MACA;QACAC;QACAC;MACA;;MAEA;MACA;IACA;EACA;AACA","names":["data","ACCESS_TOKEN","map","directions","waypoints","mounted","mapboxgl","container","style","center","zoom","accessToken","unit","profile","methods","addWaypoint","coordinates","name"],"sourceRoot":"src/components","sources":["MapWithSearch.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div id=\"map\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport mapboxgl from \"mapbox-gl\";\r\nimport { MapboxSearchBox } from \"@mapbox/search-js-web\";\r\nimport * as turf from \"@turf/turf\";\r\nimport MapboxDirections from \"@mapbox/mapbox-gl-directions/dist/mapbox-gl-directions\";\r\nimport \"@mapbox/mapbox-gl-directions/dist/mapbox-gl-directions.css\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      ACCESS_TOKEN:\r\n        \"pk.eyJ1Ijoid2Fsa2NsZTIxNiIsImEiOiJjbG16MGVvdWkxM2QzMm9wNjNobm9hZGQyIn0.5r382ZeMc0zOhHpiAd9D2A\",\r\n      map: null,\r\n      directions: null,\r\n      waypoints: []\r\n    };\r\n  },\r\n  mounted() {\r\n    mapboxgl.accessToken = this.ACCESS_TOKEN;\r\n\r\n    this.map = new mapboxgl.Map({\r\n      container: \"map\",\r\n      style: \"mapbox://styles/mapbox/streets-v12\",\r\n      center: [-74.5, 40],\r\n      zoom: 9,\r\n    });\r\n\r\n    this.directions = new MapboxDirections({\r\n      accessToken: mapboxgl.accessToken,\r\n      unit: \"imperial\",\r\n      profile: \"mapbox/driving-traffic\",\r\n    });\r\n\r\n    this.map.addControl(this.directions, \"top-left\");\r\n\r\n    this.map.on('click', (e) => {\r\n      this.addWaypoint(e.lngLat);\r\n    });\r\n  },\r\n  methods: {\r\n    addWaypoint(coordinates) {\r\n      this.waypoints.push({\r\n        coordinates: [coordinates.lng, coordinates.lat],\r\n        name: `Waypoint ${this.waypoints.length + 1}`,\r\n      });\r\n\r\n      // Update the directions control with the new waypoints\r\n      this.directions.setWaypoints(this.waypoints);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#map {\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  width: 100%;\r\n  height: 90%;\r\n  position: absolute;\r\n  display: flex;\r\n  align-items: center;\r\n  flex-grow: 1;\r\n}\r\n\r\n#map canvas {\r\n  width: 80vw;\r\n  height: 80vh;\r\n}\r\n\r\n.mapboxgl-canvas {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import \"core-js/modules/es.array.map.js\";\nimport mapboxgl from \"mapbox-gl\";\nimport { MapboxSearchBox } from \"@mapbox/search-js-web\";\nimport * as turf from \"@turf/turf\";\nimport MapboxDirections from \"@mapbox/mapbox-gl-directions/dist/mapbox-gl-directions\";\nimport \"@mapbox/mapbox-gl-directions/dist/mapbox-gl-directions.css\";\nexport default {\n  data: function data() {\n    return {\n      // make environment variable\n      ACCESS_TOKEN: \"pk.eyJ1Ijoid2Fsa2NsZTIxNiIsImEiOiJjbG16MGVvdWkxM2QzMm9wNjNobm9hZGQyIn0.5r382ZeMc0zOhHpiAd9D2A\"\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n    mapboxgl.accessToken = this.ACCESS_TOKEN;\n    var stadium = [-81.700058, 41.506035];\n\n    // Initialize the map at the user's location\n    navigator.geolocation.getCurrentPosition(function (position) {\n      var _position$coords = position.coords,\n        latitude = _position$coords.latitude,\n        longitude = _position$coords.longitude;\n      _this.map = new mapboxgl.Map({\n        container: \"map\",\n        style: \"mapbox://styles/mapbox/streets-v12\",\n        center: [longitude, latitude],\n        // Center the map at the user's location\n        zoom: 15 // Set an initial zoom level\n      });\n\n      var directions = new MapboxDirections({\n        accessToken: mapboxgl.accessToken,\n        unit: \"imperial\",\n        profile: \"mapbox/walking\",\n        steps: 1\n      });\n      _this.map.addControl(directions, \"bottom-left\");\n      directions.setOrigin([longitude, latitude]);\n      var popup = new mapboxgl.Popup({\n        offset: 25\n      }).setText(\"Factory of sadness\");\n\n      // Create a marker and add it to the map\n      new mapboxgl.Marker().setLngLat(stadium).setPopup(popup).addTo(_this.map);\n      var point = turf.point([longitude, latitude]);\n      var options = {\n        units: \"miles\"\n      };\n      var radius = 5; // 1 mile\n      var bbox = turf.bbox(turf.buffer(point, radius, options));\n      var searchBox = new MapboxSearchBox();\n      searchBox.accessToken = _this.ACCESS_TOKEN;\n      searchBox.options = {\n        language: \"en\",\n        country: \"us\",\n        bbox: bbox // Set the bounding box in the search options\n      };\n\n      _this.map.addControl(searchBox);\n      var geolocate = new mapboxgl.GeolocateControl({\n        positionOptions: {\n          enableHighAccuracy: true\n        },\n        trackUserLocation: true,\n        showUserLocation: true\n      });\n      _this.map.addControl(geolocate);\n      var nav = new mapboxgl.NavigationControl();\n      _this.map.addControl(nav);\n    });\n  }\n};","map":{"version":3,"mappings":";AAOA;AACA;AACA;AACA;AACA;AAEA;EACAA;IACA;MACA;MACAC,cACA;IACA;EACA;EACAC;IAAA;IACAC;IAGA;;IAEA;IACAC;MACA;QAAAC;QAAAC;MAEA;QACAC;QACAC;QACAC;QAAA;QACAC;MACA;;MAEA;QACAC;QACAC;QACAC;QACAC;MACA;MACA;MACAC;MAGA;QAAAC;MAAA,WACA,qBACA;;MAEA;MACA;MAEA;MACA;QAAAC;MAAA;MACA;MACA;MAEA;MACAC;MACAA;QACAC;QACAC;QACAC;MACA;;MACA;MAEA;QACAC;UACAC;QACA;QACAC;QACAC;MACA;MACA;MAEA;MACA;IACA;EACA;AACA","names":["data","ACCESS_TOKEN","mounted","mapboxgl","navigator","latitude","longitude","container","style","center","zoom","accessToken","unit","profile","steps","directions","offset","units","searchBox","language","country","bbox","positionOptions","enableHighAccuracy","trackUserLocation","showUserLocation"],"sourceRoot":"src/components","sources":["MapWithSearch.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div id=\"map\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport mapboxgl from \"mapbox-gl\";\r\nimport { MapboxSearchBox } from \"@mapbox/search-js-web\";\r\nimport * as turf from \"@turf/turf\";\r\nimport MapboxDirections from \"@mapbox/mapbox-gl-directions/dist/mapbox-gl-directions\";\r\nimport \"@mapbox/mapbox-gl-directions/dist/mapbox-gl-directions.css\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      // make environment variable\r\n      ACCESS_TOKEN:\r\n        \"pk.eyJ1Ijoid2Fsa2NsZTIxNiIsImEiOiJjbG16MGVvdWkxM2QzMm9wNjNobm9hZGQyIn0.5r382ZeMc0zOhHpiAd9D2A\",\r\n    };\r\n  },\r\n  mounted() {\r\n    mapboxgl.accessToken = this.ACCESS_TOKEN;\r\n\r\n   \r\n    const stadium = [-81.700058, 41.506035];\r\n\r\n    // Initialize the map at the user's location\r\n    navigator.geolocation.getCurrentPosition((position) => {\r\n      const { latitude, longitude } = position.coords;\r\n\r\n      this.map = new mapboxgl.Map({\r\n        container: \"map\",\r\n        style: \"mapbox://styles/mapbox/streets-v12\",\r\n        center: [longitude, latitude], // Center the map at the user's location\r\n        zoom: 15, // Set an initial zoom level\r\n      });\r\n\r\n      const directions = new MapboxDirections({\r\n        accessToken: mapboxgl.accessToken,\r\n        unit: \"imperial\",\r\n        profile: \"mapbox/walking\",\r\n        steps: 1,\r\n      });\r\n      this.map.addControl(directions, \"bottom-left\");\r\n      directions.setOrigin([longitude, latitude])\r\n\r\n\r\n      const popup = new mapboxgl.Popup({ offset: 25 }).setText(\r\n        \"Factory of sadness\"\r\n      );\r\n\r\n      // Create a marker and add it to the map\r\n      new mapboxgl.Marker().setLngLat(stadium).setPopup(popup).addTo(this.map);\r\n\r\n      const point = turf.point([longitude, latitude]);\r\n      const options = { units: \"miles\" };\r\n      const radius = 5; // 1 mile\r\n      const bbox = turf.bbox(turf.buffer(point, radius, options));\r\n\r\n      const searchBox = new MapboxSearchBox();\r\n      searchBox.accessToken = this.ACCESS_TOKEN;\r\n      searchBox.options = {\r\n        language: \"en\",\r\n        country: \"us\",\r\n        bbox: bbox, // Set the bounding box in the search options\r\n      };\r\n      this.map.addControl(searchBox);\r\n\r\n      const geolocate = new mapboxgl.GeolocateControl({\r\n        positionOptions: {\r\n          enableHighAccuracy: true,\r\n        },\r\n        trackUserLocation: true,\r\n        showUserLocation: true,\r\n      });\r\n      this.map.addControl(geolocate);\r\n\r\n      const nav = new mapboxgl.NavigationControl();\r\n      this.map.addControl(nav);\r\n    });\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n#map {\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  width: 100%;\r\n  height: 90%;\r\n  position: absolute;\r\n  display: flex;\r\n  align-items: center;\r\n  flex-grow: 1;\r\n}\r\n\r\n#map canvas {\r\n  width: 80vw;\r\n  height: 80vh;\r\n}\r\n\r\n.mapboxgl-canvas {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.\r\n\r\n.mapbox-directions-instructions {\r\n  border: 1px solid #ccc;\r\n  border-radius: 5px;\r\n  padding: 10px;\r\n  font-family: \"Urbanist\", sans-serif;\r\n  font-size: 14px;\r\n  color: #333;\r\n}\r\n\r\n/* Customize the individual step */\r\n.mapbox-directions-step {\r\n  margin-bottom: 5px;\r\n}\r\n\r\n/* Customize the step number */\r\n.mapbox-directions-step-number {\r\n  font-weight: bold;\r\n  color: #0078d4; /* Custom color for step numbers */\r\n}\r\n\r\n/* Customize the step instruction text */\r\n.mapbox-directions-step-text {\r\n  color: #000000;\r\n  \r\n}\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import _regeneratorRuntime from \"E:/workspace/walk-cle-final-capstone-starter/vue/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"E:/workspace/walk-cle-final-capstone-starter/vue/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport axios from 'axios';\nVue.use(Vuex);\n\n/*\r\n * The authorization header is set for axios when you login but what happens when you come back or\r\n * the page is refreshed. When that happens you need to check for the token in local storage and if it\r\n * exists you should set the header so that it will be attached to each request\r\n */\nvar currentToken = localStorage.getItem('token');\nvar currentUser = JSON.parse(localStorage.getItem('user'));\nif (currentToken != null) {\n  axios.defaults.headers.common['Authorization'] = \"Bearer \".concat(currentToken);\n}\nexport default new Vuex.Store({\n  state: {\n    token: currentToken || '',\n    user: currentUser || {},\n    checkin: 0\n  },\n  data: function data() {\n    return {\n      locations: [] // Initialize an empty array to store location data\n    };\n  },\n\n  mutations: {\n    SET_AUTH_TOKEN: function SET_AUTH_TOKEN(state, token) {\n      state.token = token;\n      localStorage.setItem('token', token);\n      axios.defaults.headers.common['Authorization'] = \"Bearer \".concat(token);\n    },\n    SET_USER: function SET_USER(state, user) {\n      state.user = user;\n      localStorage.setItem('user', JSON.stringify(user));\n    },\n    LOGOUT: function LOGOUT(state) {\n      localStorage.removeItem('token');\n      localStorage.removeItem('user');\n      state.token = '';\n      state.user = {};\n      axios.defaults.headers.common = {};\n    },\n    fetchDataFromAPI: function fetchDataFromAPI() {\n      var _this = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return axios.get('your_api_endpoint_here');\n              case 3:\n                response = _context.sent;\n                _this.locations = response.data; // Assuming the API response is an array of location objects\n                _context.next = 10;\n                break;\n              case 7:\n                _context.prev = 7;\n                _context.t0 = _context[\"catch\"](0);\n                console.error('Error fetching data from API:', _context.t0);\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 7]]);\n      }))();\n    },\n    INCREASE_CHECKIN: function INCREASE_CHECKIN(state, amt) {\n      state.checkins = state.checkins + amt;\n    }\n  }\n});","map":{"version":3,"names":["Vue","Vuex","axios","use","currentToken","localStorage","getItem","currentUser","JSON","parse","defaults","headers","common","Store","state","token","user","checkin","data","locations","mutations","SET_AUTH_TOKEN","setItem","SET_USER","stringify","LOGOUT","removeItem","fetchDataFromAPI","get","response","console","error","INCREASE_CHECKIN","amt","checkins"],"sources":["E:/workspace/walk-cle-final-capstone-starter/vue/src/store/index.js"],"sourcesContent":["import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport axios from 'axios'\r\n\r\nVue.use(Vuex)\r\n\r\n/*\r\n * The authorization header is set for axios when you login but what happens when you come back or\r\n * the page is refreshed. When that happens you need to check for the token in local storage and if it\r\n * exists you should set the header so that it will be attached to each request\r\n */\r\nconst currentToken = localStorage.getItem('token')\r\nconst currentUser = JSON.parse(localStorage.getItem('user'));\r\n\r\nif(currentToken != null) {\r\n  axios.defaults.headers.common['Authorization'] = `Bearer ${currentToken}`;\r\n}\r\n\r\nexport default new Vuex.Store({\r\n  state: {\r\n    token: currentToken || '',\r\n    user: currentUser || {},\r\n    checkin: 0,\r\n  },\r\n  data() {\r\n    return {\r\n      locations: [], // Initialize an empty array to store location data\r\n    };\r\n  },\r\n  mutations: {\r\n    SET_AUTH_TOKEN(state, token) {\r\n      state.token = token;\r\n      localStorage.setItem('token', token);\r\n      axios.defaults.headers.common['Authorization'] = `Bearer ${token}`\r\n    },\r\n    SET_USER(state, user) {\r\n      state.user = user;\r\n      localStorage.setItem('user',JSON.stringify(user));\r\n    },\r\n    LOGOUT(state) {\r\n      localStorage.removeItem('token');\r\n      localStorage.removeItem('user');\r\n      state.token = '';\r\n      state.user = {};\r\n      axios.defaults.headers.common = {};\r\n    },\r\n    async fetchDataFromAPI() {\r\n      try {\r\n        const response = await axios.get('your_api_endpoint_here');\r\n        this.locations = response.data; // Assuming the API response is an array of location objects\r\n      } catch (error) {\r\n        console.error('Error fetching data from API:', error);\r\n      }\r\n    },\r\n    INCREASE_CHECKIN(state, amt) {\r\n      state.checkins = state.checkins + amt;\r\n    }\r\n    \r\n  }\r\n})\r\n"],"mappings":";;;AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,IAAI,MAAM,MAAM;AACvB,OAAOC,KAAK,MAAM,OAAO;AAEzBF,GAAG,CAACG,GAAG,CAACF,IAAI,CAAC;;AAEb;AACA;AACA;AACA;AACA;AACA,IAAMG,YAAY,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;AAClD,IAAMC,WAAW,GAAGC,IAAI,CAACC,KAAK,CAACJ,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;AAE5D,IAAGF,YAAY,IAAI,IAAI,EAAE;EACvBF,KAAK,CAACQ,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC,oBAAaR,YAAY,CAAE;AAC3E;AAEA,eAAe,IAAIH,IAAI,CAACY,KAAK,CAAC;EAC5BC,KAAK,EAAE;IACLC,KAAK,EAAEX,YAAY,IAAI,EAAE;IACzBY,IAAI,EAAET,WAAW,IAAI,CAAC,CAAC;IACvBU,OAAO,EAAE;EACX,CAAC;EACDC,IAAI,kBAAG;IACL,OAAO;MACLC,SAAS,EAAE,EAAE,CAAE;IACjB,CAAC;EACH,CAAC;;EACDC,SAAS,EAAE;IACTC,cAAc,0BAACP,KAAK,EAAEC,KAAK,EAAE;MAC3BD,KAAK,CAACC,KAAK,GAAGA,KAAK;MACnBV,YAAY,CAACiB,OAAO,CAAC,OAAO,EAAEP,KAAK,CAAC;MACpCb,KAAK,CAACQ,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC,oBAAaG,KAAK,CAAE;IACpE,CAAC;IACDQ,QAAQ,oBAACT,KAAK,EAAEE,IAAI,EAAE;MACpBF,KAAK,CAACE,IAAI,GAAGA,IAAI;MACjBX,YAAY,CAACiB,OAAO,CAAC,MAAM,EAACd,IAAI,CAACgB,SAAS,CAACR,IAAI,CAAC,CAAC;IACnD,CAAC;IACDS,MAAM,kBAACX,KAAK,EAAE;MACZT,YAAY,CAACqB,UAAU,CAAC,OAAO,CAAC;MAChCrB,YAAY,CAACqB,UAAU,CAAC,MAAM,CAAC;MAC/BZ,KAAK,CAACC,KAAK,GAAG,EAAE;MAChBD,KAAK,CAACE,IAAI,GAAG,CAAC,CAAC;MACfd,KAAK,CAACQ,QAAQ,CAACC,OAAO,CAACC,MAAM,GAAG,CAAC,CAAC;IACpC,CAAC;IACKe,gBAAgB,8BAAG;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA;gBAAA,OAEEzB,KAAK,CAAC0B,GAAG,CAAC,wBAAwB,CAAC;cAAA;gBAApDC,QAAQ;gBACd,KAAI,CAACV,SAAS,GAAGU,QAAQ,CAACX,IAAI,CAAC,CAAC;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEhCY,OAAO,CAACC,KAAK,CAAC,+BAA+B,cAAQ;cAAC;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAE1D,CAAC;IACDC,gBAAgB,4BAAClB,KAAK,EAAEmB,GAAG,EAAE;MAC3BnB,KAAK,CAACoB,QAAQ,GAAGpB,KAAK,CAACoB,QAAQ,GAAGD,GAAG;IACvC;EAEF;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}